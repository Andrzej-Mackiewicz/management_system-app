{"version":3,"sources":["webpack:///./src/components/Visits.vue?701d","webpack:///src/components/Visits.vue","webpack:///./src/components/Visits.vue?e31e","webpack:///./src/components/Visits.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","$event","preventDefault","handleSubmitUpdateForm","_m","directives","name","rawName","value","expression","attrs","domProps","target","composing","stringdate","visit","$set","_l","tempVisit","index","key","_id","_v","_s","date","hour","editFunc","state","acceptFunc","_e","delFunc","description","cost","paid","staticRenderFns","a","component"],"mappings":"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","file":"js/chunk-2d0c5388.5e88fd68.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm border-right\",staticStyle:{\"margin-right\":\"15px\",\"background-color\":\"#f3f3f3\"}}),_c('div',{staticClass:\"col-auto\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmitUpdateForm($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 px-1 pt-1 pb-1\"},[_c('div',{staticClass:\"card text-dark\",staticStyle:{\"width\":\"900px\",\"height\":\"110px\"}},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"card-body bg-white p-2\",staticStyle:{\"width\":\"800px\"}},[_c('div',{staticClass:\"form-group row mb-0\"},[_c('div',{staticClass:\"col-sm-3 pr-1\"},[_c('div',{staticClass:\"input-group mb-2\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stringdate),expression:\"stringdate\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"},attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.stringdate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.stringdate=$event.target.value}}})])]),_c('div',{staticClass:\"col-sm-3 px-1\"},[_c('div',{staticClass:\"input-group mb-2\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visit.hour),expression:\"visit.hour\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"},attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.visit.hour)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.visit, \"hour\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-sm-2 px-1\"},[_c('div',{staticClass:\"input-group mb-2\"},[_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visit.duration),expression:\"visit.duration\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"},attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.visit.duration)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.visit, \"duration\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-sm-2 px-1\"},[_c('div',{staticClass:\"input-group mb-2\"},[_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visit.cost),expression:\"visit.cost\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"},attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.visit.cost)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.visit, \"cost\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-sm-2 pl-1\"},[_c('div',{staticClass:\"input-group mb-2\"},[_vm._m(4),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visit.paid),expression:\"visit.paid\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"},attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.visit.paid)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.visit, \"paid\", $event.target.value)}}})])])]),_c('div',{staticClass:\"form-group row mb-0\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"input-group mb-0\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visit.description),expression:\"visit.description\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"font-size\":\"11px\",\"resize\":\"none\"},attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.visit.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.visit, \"description\", $event.target.value)}}})])])])])]),_vm._m(5)])])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 px-1 pt-0 pb-1\"},[_c('div',{staticClass:\"card text-dark\",staticStyle:{\"width\":\"900px\",\"height\":\"227px\"}},[_vm._m(6),_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"card-body bg-white p-2\",staticStyle:{\"height\":\"200px\",\"overflow\":\"auto\"}},_vm._l((_vm.activePatients),function(tempVisit,index){return _c('div',{key:tempVisit._id,staticClass:\"card mb-1\"},[_c('div',{staticClass:\"card-header p-0 \"},[_c('b',{staticClass:\"ml-1\"},[_vm._v(_vm._s(++index))]),_vm._v(\". \"+_vm._s(tempVisit.date[0])+\".\"+_vm._s(tempVisit.date[1])+\".\"+_vm._s(tempVisit.date[2])+\", godz. \"+_vm._s(tempVisit.hour)+\" \"),_c('div',{staticClass:\"btn-group d-inline float-right\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-sm btn-secondary btn-block m-0 p-0 d-inline\",staticStyle:{\"width\":\"60px\",\"height\":\"18px\",\"font-size\":\"11px\"},on:{\"click\":function($event){return _vm.editFunc(tempVisit._id)}}},[_vm._v(\"Edytuj\")]),(tempVisit.state == '1')?_c('button',{staticClass:\"btn btn-sm btn-success btn-block m-0 p-0 d-inline\",staticStyle:{\"width\":\"60px\",\"height\":\"18px\",\"font-size\":\"11px\"},on:{\"click\":function($event){return _vm.acceptFunc(tempVisit._id)}}},[_vm._v(\"Zaakceptuj\")]):_vm._e(),(tempVisit.state == '1')?_c('button',{staticClass:\"btn btn-sm btn-danger btn-block m-0 p-0 d-inline\",staticStyle:{\"width\":\"60px\",\"height\":\"18px\",\"font-size\":\"11px\"},on:{\"click\":function($event){return _vm.delFunc(tempVisit._id)}}},[_vm._v(\"Odrzuć\")]):_vm._e(),(tempVisit.state == '0')?_c('button',{staticClass:\"btn btn-sm btn-danger btn-block m-0 m-0 p-0 d-inline\",staticStyle:{\"width\":\"70px\",\"height\":\"18px\",\"font-size\":\"11px\"},on:{\"click\":function($event){return _vm.delFunc(tempVisit._id)}}},[_vm._v(\"Usuń\")]):_vm._e()])]),_c('div',{staticClass:\"card-body p-0 m-1\"},[_c('h6',{staticClass:\"card-title m-1\"},[_vm._v(_vm._s(tempVisit.description))]),_c('footer',{staticClass:\"blockquote-footer p-0 m-1\",staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"koszt wizyty \"),_c('cite',{attrs:{\"title\":\"Source Title\"}},[_vm._v(_vm._s(tempVisit.cost)+\"zł\")]),_vm._v(\", zapłacono \"),_c('cite',{attrs:{\"title\":\"Source Title\"}},[_vm._v(_vm._s(tempVisit.paid)+\"zł\")])])])])}),0)])])])])]),_c('div',{staticClass:\"col-sm border-left\",staticStyle:{\"margin-left\":\"15px\",\"background-color\":\"#f3f3f3\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"}},[_vm._v(\"Data:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"}},[_vm._v(\"Godzina:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"}},[_vm._v(\"Długość:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"}},[_vm._v(\"Koszt\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\",staticStyle:{\"height\":\"25px\",\"font-size\":\"11px\"}},[_vm._v(\"Wpłata\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-dark btn-block\",staticStyle:{\"height\":\"108px\"},attrs:{\"id\":\"btnSubmitUpdate\"}},[_vm._v(\"Dodaj\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-warning py-1\"},[_c('b',[_vm._v(\"Historia wizyt\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"row\">\r\n<div class=\"col-sm border-right\" style=\"margin-right: 15px;background-color: #f3f3f3;\">\r\n</div>\r\n<div class=\"col-auto\">\r\n    <form @submit.prevent=\"handleSubmitUpdateForm\">\r\n    <div class=\"row\">\r\n        <div class=\"col-12 px-1 pt-1 pb-1\">\r\n            <div class=\"card text-dark\" style=\"width: 900px;height:110px;\">\r\n                <div class=\"row no-gutters\">\r\n                <div class=\"col-auto\">\r\n                    <div class=\"card-body bg-white p-2\" style=\"width:800px\">\r\n                            <div class=\"form-group row mb-0\">\r\n                                <div class=\"col-sm-3 pr-1\">\r\n                                    <div class=\"input-group mb-2\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                            <div class=\"input-group-text\"  style=\"height:25px;font-size:11px\">Data:</div>\r\n                                        </div>\r\n                                    <input type=\"date\" v-model=\"stringdate\" class=\"form-control form-control-sm\" style=\"height:25px;font-size:11px\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-sm-3 px-1\">\r\n                                    <div class=\"input-group mb-2\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                            <div class=\"input-group-text\"  style=\"height:25px;font-size:11px\">Godzina:</div>\r\n                                        </div>\r\n                                    <input type=\"time\" v-model=\"visit.hour\" class=\"form-control form-control-sm\" style=\"height:25px;font-size:11px\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-sm-2 px-1\">\r\n                                    <div class=\"input-group mb-2\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                            <div class=\"input-group-text\"  style=\"height:25px;font-size:11px\">Długość:</div>\r\n                                        </div>\r\n                                    <input type=\"number\" v-model=\"visit.duration\" class=\"form-control form-control-sm\" style=\"height:25px;font-size:11px\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-sm-2 px-1\">\r\n                                    <div class=\"input-group mb-2\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                            <div class=\"input-group-text\"  style=\"height:25px;font-size:11px\">Koszt</div>\r\n                                        </div>\r\n                                    <input type=\"number\" v-model=\"visit.cost\" class=\"form-control form-control-sm\" style=\"height:25px;font-size:11px\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-sm-2 pl-1\">\r\n                                    <div class=\"input-group mb-2\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                            <div class=\"input-group-text\"  style=\"height:25px;font-size:11px\">Wpłata</div>\r\n                                        </div>\r\n                                    <input type=\"number\" v-model=\"visit.paid\" class=\"form-control form-control-sm\" style=\"height:25px;font-size:11px\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group row mb-0\">\r\n                                <div class=\"col-sm-12\">\r\n                                    <div class=\"input-group mb-0\">\r\n                                    <textarea v-model=\"visit.description\" class=\"form-control form-control-sm\" style=\"font-size:11px;resize: none;\" rows=\"3\"></textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col\">\r\n                    <button class=\"btn btn-dark btn-block\" id=\"btnSubmitUpdate\" style=\"height:108px;\">Dodaj</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </form>\r\n    <div class=\"row\">\r\n        <div class=\"col-12 px-1 pt-0 pb-1\">\r\n            <div class=\"card text-dark\" style=\"width: 900px;height:227px;\">\r\n                <div class=\"card-header bg-warning py-1\" ><b>Historia wizyt</b></div>\r\n                <div class=\"row no-gutters\">\r\n                    <div class=\"card-body bg-white p-2\" style=\"height:200px;overflow: auto;\">\r\n<div class=\"card mb-1\" v-for=\"(tempVisit, index) in activePatients\" :key=\"tempVisit._id\" >\r\n  <div class=\"card-header p-0 \">\r\n    <b class=\"ml-1\">{{ ++index }}</b>. {{ tempVisit.date[0] }}.{{ tempVisit.date[1] }}.{{ tempVisit.date[2] }}, godz. {{ tempVisit.hour }}\r\n    <div role=\"group\" aria-label=\"Basic example\" class=\"btn-group d-inline float-right\">\r\n        <button class=\"btn btn-sm btn-secondary btn-block m-0 p-0 d-inline\" v-on:click=\"editFunc(tempVisit._id)\" style=\"width:60px;height:18px;font-size:11px\">Edytuj</button>\r\n        <button class=\"btn btn-sm btn-success btn-block m-0 p-0 d-inline\" v-if=\"tempVisit.state == '1'\" v-on:click=\"acceptFunc(tempVisit._id)\" style=\"width:60px;height:18px;font-size:11px\">Zaakceptuj</button>\r\n        <button class=\"btn btn-sm btn-danger btn-block m-0 p-0 d-inline\" v-if=\"tempVisit.state == '1'\" v-on:click=\"delFunc(tempVisit._id)\" style=\"width:60px;height:18px;font-size:11px\">Odrzuć</button>\r\n        <button class=\"btn btn-sm btn-danger btn-block m-0 m-0 p-0 d-inline\" v-if=\"tempVisit.state == '0'\" v-on:click=\"delFunc(tempVisit._id)\" style=\"width:70px;height:18px;font-size:11px\">Usuń</button>\r\n    </div>\r\n  </div>\r\n  <div class=\"card-body p-0 m-1\">\r\n      <h6 class=\"card-title m-1\">{{ tempVisit.description }}</h6>\r\n      <footer class=\"blockquote-footer p-0 m-1\" style=\"font-size:13px\">koszt wizyty <cite title=\"Source Title\">{{ tempVisit.cost }}zł</cite>, zapłacono <cite title=\"Source Title\">{{ tempVisit.paid }}zł</cite></footer>\r\n  </div>\r\n</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"col-sm border-left\" style=\"margin-left: 15px; background-color: #f3f3f3;\">\r\n\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\naxios.defaults.withCredentials = true;\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            visits: [],\r\n            stringdate: '',\r\n            visit: { \r\n                patientId: this.$route.params.id,\r\n                    date: [],\r\n                    hour: '',\r\n                    duration: '60',\r\n                    cost: '',\r\n                    paid: '',\r\n                    description: '',\r\n                    state: 0,\r\n            },\r\n            change_bt: 0,\r\n\r\n        }\r\n    },\r\n    created() {\r\n        let apiURL = `http://localhost:4000/api/visit/${this.$route.params.id}`;\r\n\r\n        axios.get(apiURL).then((res) => {\r\n            this.visits = res.data;\r\n\r\n        })\r\n    },\r\n    mounted() {\r\n            this.$parent.setMessage(1)\r\n    },\r\n    computed: {\r\n        activePatients: function() {\r\n        return this.visits.filter(i => i.state !== '')\r\n        }\r\n    },\r\n    methods: {\r\n        delFunc(tempId){\r\n                let apiURL = `http://localhost:4000/api/delete-visit/${tempId}`;\r\n                let indexOfArrayItem = this.visits.findIndex(i => i._id === tempId);\r\n\r\n                if (window.confirm(\"Chcesz usunąc wizytę?\")) {\r\n                    axios.delete(apiURL).then(() => {\r\n                        this.visits.splice(indexOfArrayItem, 1);\r\n                    }).catch(error => {\r\n                        console.log(error)\r\n                    });\r\n                }\r\n        },\r\n        editFunc(tempId){\r\n            for(var i=0;i<this.visits.length;i++){\r\n                if(this.visits[i]._id == tempId){\r\n                    this.visit._id = tempId;\r\n                    this.visit.description = this.visits[i].description;\r\n                    this.visit.cost = this.visits[i].cost;\r\n                    this.visit.paid = this.visits[i].paid;\r\n                    this.visit.hour = this.visits[i].hour;\r\n                    this.visit.duration = this.visits[i].duration;\r\n                    this.stringdate = this.visits[i].date[0] + '-' + this.visits[i].date[1] + '-' + this.visits[i].date[2];\r\n                    this.visit.state = 0;\r\n                    document.getElementById(\"btnSubmitUpdate\").innerHTML = \"Edytuj\";\r\n                    this.change_bt = 1;\r\n                }\r\n            }\r\n            console.log(this.stringdate);\r\n        },\r\n        handleSubmitUpdateForm() {\r\n            if(this.change_bt == 0){\r\n                let apiURL = 'http://localhost:4000/api/create-visit';\r\n                \r\n                //var addvisit = [];\r\n                console.log(this.visit);\r\n                this.visit.date = this.stringdate.split(\"-\")\r\n                axios.post(apiURL, this.visit).then(() => {\r\n                    apiURL = `http://localhost:4000/api/visit/${this.$route.params.id}`;\r\n                    axios.get(apiURL).then((res) => {\r\n                        this.visits = res.data;\r\n                        //console.log(this.visits);\r\n                        \r\n                    });\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                });\r\n            } else {\r\n                let apiURL = `http://localhost:4000/api/update-visit/${this.visit._id}`;\r\n                \r\n                this.visit.date = this.stringdate.split(\"-\");\r\n                axios.post(apiURL, this.visit).then((res) => {\r\n                    console.log(res)\r\n                    for(var i=0;i<this.visits.length;i++){\r\n                        if(this.visits[i]._id == this.visit._id){\r\n                            this.visits[i].description = this.visit.description;\r\n                            this.visits[i].cost = this.visit.cost;\r\n                            this.visits[i].paid = this.visit.paid;\r\n                            this.visits[i].hour = this.visit.hour;\r\n                            this.visits[i].duration = this.visit.duration;\r\n                            this.visits[i].date = this.visit.date;\r\n                        }\r\n                    }\r\n                    this.visit = { \r\n                        patientId: this.$route.params.id,\r\n                        date: [],\r\n                        hour: '',\r\n                        duration: '',\r\n                        cost: '',\r\n                        paid: '',\r\n                        description: '',\r\n                        state: 0,\r\n                    };\r\n                    document.getElementById(\"btnSubmitUpdate\").innerHTML = \"Dodaj\";\r\n                    this.change_bt = 0;\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                });\r\n            }\r\n        },\r\n        acceptFunc(tempId){\r\n            let apiURL = `http://localhost:4000/api/update-visit/${tempId}`;\r\n            var acceptVisit = {};\r\n            acceptVisit._id = tempId;\r\n            acceptVisit.state = 0;\r\n            axios.post(apiURL, acceptVisit).then(() => {\r\n                    for(var i=0;i<this.visits.length;i++){\r\n                        if(this.visits[i]._id == tempId){\r\n                            this.visits[i].state = 0;\r\n                        }\r\n                    }\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visits.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visits.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visits.vue?vue&type=template&id=cf7e4f7c&\"\nimport script from \"./Visits.vue?vue&type=script&lang=js&\"\nexport * from \"./Visits.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}